import { Image, Grid } from "@phobon/base";
import { Picture, Figure, FigureGrid, ImageGrid } from "@/components";
import { Meta } from "@/components/Meta";

<Meta
  description="Refactoring 10 Years of Legacy"
  url="https://phobon.io/writing/refactoring-10-years-of-legacy"
  image="https://phobon.io/writing/refactoring-10-years-of-legacy/index.webp"
/>

# Refactoring 10 Years of Legacy

- Embarked on a several-months-long project
- Repay some of the technical, and design-debt built up over 10 years
- Another part of a multi-year refactor

## Four Bootstrap-sized Problems

- Debt was certainly a product of its time(s)
- The Agworld codebase is an interesting study of history
- Serving four versions of Bootstrap on every page
- All resources blocked rendering (js, css, etc.)
- Performance metrics and budgets were completely blown out
- Problem existed across SSR and CSR contexts
- Several different layouts all serving different resources
- All pages were developed with the knowledge that everything would be available, even if it was not appropriate

## How to Eat an Elephant

- Make the Change Easy, then Make the Easy Change
- Far easier than it sounds
- Extremely difficult to see the entire breadth of the project, so dividing things into contexts and then dividing those contexts into steps that could be changed incrementally

## Defer-loading Appropriate Resources

## Removing CSS Dead Wood

## Refactoring all views onto the one layout

## Sandbox Resources

## ???, Profit!
